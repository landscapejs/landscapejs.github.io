(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const r of h.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function e(s){if(s.ep)return;s.ep=!0;const h=i(s);fetch(s.href,h)}})();class x{constructor(t,i,e,s=1){this.r=t,this.g=i,this.b=e,this.a=s}rgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}rgba(){return`rgb(${this.r}, ${this.g}, ${this.b}, ${this.a})`}}const R=4,b=1<<R,N=8,_=1<<N,u=4095;let B=4,E=.5;const P=o=>.5*(1-Math.cos(o*Math.PI));let c;function F(o,t=0,i=0){if(c==null){c=new Array(u+1);for(let m=0;m<u+1;m++)c[m]=Math.random()}o<0&&(o=-o),t<0&&(t=-t),i<0&&(i=-i);let e=Math.floor(o),s=Math.floor(t),h=Math.floor(i),r=o-e,l=t-s,n=i-h,f,p,v=0,C=.5,w,d,M;for(let m=0;m<B;m++){let g=e+(s<<R)+(h<<N);f=P(r),p=P(l),w=c[g&u],w+=f*(c[g+1&u]-w),d=c[g+b&u],d+=f*(c[g+b+1&u]-d),w+=p*(d-w),g+=_,d=c[g&u],d+=f*(c[g+1&u]-d),M=c[g+b&u],M+=f*(c[g+b+1&u]-M),d+=p*(M-d),w+=P(n)*(d-w),v+=w*C,C*=E,e<<=1,r*=2,s<<=1,l*=2,h<<=1,n*=2,r>=1&&(e++,r--),l>=1&&(s++,l--),n>=1&&(h++,n--)}return v}function a(o,t){const i=Math.ceil(o),e=Math.floor(t);return Math.floor(Math.random()*(e-i)+i)}class O{constructor(t,i,e){this.canvas=t,this.x=i,this.y=e}draw(t=!1){let i=W(3),e=this.canvas.getContext("2d");e.save();let s=new x(a(200,255),a(200,255),a(200,255),Math.random());if(e.fillStyle=s.rgba(),e.beginPath(),e.ellipse(this.x,this.y,i,i,0,0,2*Math.PI),t){console.log("shooting star"),e.beginPath(),e.moveTo(this.x,this.y);let h=a(this.x-50,this.x+50),r=a(this.y-50,this.y+50);e.lineTo(h,r);let l=e.createLinearGradient(this.x,this.y,h,r);l.addColorStop(0,s.rgba()),l.addColorStop(1,`rgba(${s.r},${s.g},${s.b},0)`),e.strokeStyle=l,e.stroke()}e.fill(),e.restore()}}function W(o){return Math.floor(Math.random()*o)}function k(o,t,i,e,s,h){return(o-t)/(i-t)*(s-e)+e}let L=window.innerHeight/2,A=window.innerWidth;class T{constructor(t,i,e,s,h,r,l,n=0){this.time=Math.random()*99,this.currentMin=i,this.currentMax=e,this.newMin=s,this.newMax=h,this.timeInterval=r,this.lengthInterval=1,this.mLength=0,this.canvas=t,this.ctx=t.getContext("2d"),this.height=t.height/2,this.width=t.width,this.color=l,this.blur=n}getVertex(){this.time+=this.timeInterval,this.mLength+=this.lengthInterval;let t=F(this.time),i=k(t,this.currentMin,this.currentMax,this.newMin,-this.height+this.newMax);return[this.mLength+1,this.height- -i]}draw(){this.ctx.save(),this.ctx.fillStyle=this.color.rgba();let t=new Path2D;t.moveTo(0,L*2);for(let i=0;i<this.width;i++){let e=this.getVertex();t.lineTo(e[0],e[1])}t.lineTo(A,L*2),t.closePath(),this.ctx.filter=`blur(${this.blur}px)`,this.ctx.fill(t),this.ctx.restore()}}class G{constructor(t,i=0,e=0,s=0,h=0,r="#fff",l="#000",n=!1){this.phase=i,this.lineWidth=0,this.x=e>0?e:t.width/2,this.y=s>0?s:t.height/2,this.r=h>0?h:100,this.light=r,this.dark=l,this.offset=this.lineWidth/2,this.canvas=t,this.simple=n,this.ctx=t.getContext("2d"),this.glow=this.r/2}drawMoon(){this.ctx.translate(this.offset,this.offset),this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=this.light,this.ctx.shadowBlur=this.glow,this.ctx.shadowColor=this.light,this.ctx.fill(),this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent"}drawShadow(t){this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,-Math.PI/2,Math.PI/2,!0),this.ctx.closePath(),this.ctx.fillStyle=this.dark,this.ctx.fill(),this.ctx.translate(this.r,this.r),this.ctx.scale(t,1),this.ctx.translate(-this.r,-this.r),this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,-Math.PI/2,Math.PI/2,!0),this.ctx.closePath(),this.ctx.fillStyle=t>0?this.light:this.dark,this.ctx.fill()}draw(){this.simple?this.drawSimple():this.drawComplex()}drawComplex(){this.ctx.save(),this.ctx.translate(this.x,this.y),this.phase<=.5?(this.drawMoon(),this.drawShadow(4*this.phase-1)):(this.ctx.translate(this.r+2*this.offset,this.r+2*this.offset),this.ctx.rotate(Math.PI),this.ctx.translate(-this.r,-this.r),this.drawMoon(),this.drawShadow(4*(1-this.phase)-1)),this.ctx.restore()}drawSimple(){this.ctx.save(),this.ctx.fillStyle=this.light,this.ctx.beginPath(),this.ctx.ellipse(this.x,this.y,this.r,this.r,0,0,2*Math.PI),this.phase>.8&&(this.ctx.shadowBlur=this.glow,this.ctx.shadowColor=this.light),this.ctx.fill(),this.phase<=.8&&(this.ctx.fillStyle=this.dark,this.ctx.beginPath(),this.ctx.ellipse(this.x+this.phase*this.r,this.y,this.r,this.r,0,0,2*Math.PI),this.ctx.fill()),this.ctx.restore()}}let S=5,y=5;class j{constructor(t,i=!0,e=!0,s=!0,h=!0,r=!0,l=0,n=!1,f=!1){this.canvas=t,this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.moon=null,this.stars=[],this.mountains=[],this.numberOfMountains=l>0?l:a(S,y),this.drawSky=i,this.drawStars=e,this.drawMoon=s,this.drawMountains=h,this.drawGround=r,this.init()}init(){this.numberOfMountains>y?this.numberOfMountains=y:this.numberOfMountains<S&&(this.numberOfMountains=S),console.log(`Number of mountains: ${this.numberOfMountains}`),this.createColorPallete(),this.drawMountains&&this.createMountains(),this.drawStars&&this.createStars(),this.drawMoon&&this.createMoon()}createColorPallete(){this.red=Math.floor(Math.random()*200),this.green=Math.floor(Math.random()*200),this.blue=Math.floor(Math.random()*220),this.lightBlue=Math.floor(this.blue/100*(Math.random()*100));let t=new x(this.red-10,this.green-10,this.blue+50,.7),i=new x(this.red+200,this.green+200,this.blue+60,0);this.colorPallete=[];for(let e=0;e<this.numberOfMountains;e++)this.colorPallete.push(new x(this.red+e*30,this.green+e*30,this.blue+e*30));this.colorPallete.push(t),this.colorPallete.push(i)}createMountains(){let t=Math.random()*.009999999999999998+.005,i=Math.random()*(this.height*.005-2.75)+2.75,e=.35,s=i,h=t;for(let r=0;r<this.numberOfMountains;r++)this.blur=0,r>=0&&(s=i-e*r,h=t/r),console.log(`heightSeed (new): ${i-e*r}`),this.mountains.push(new T(this.canvas,0,s,0,4,h,this.colorPallete[r],this.blur));console.log(this.mountains)}createStars(){let t=a(this.width*.1,this.width);for(let i=0;i<t;i++)this.stars.push(new O(this.canvas,a(0,this.width),a(0,this.height)))}createMoon(){let t=a(this.height/100,this.height/10),i=a(2*t,this.width-2*t),e=parseInt(Math.random()*this.height/5+t),s=["#ffaeaeff","#ffffffff","#fffefdff","#fff0f0ff","#ffffffff","#ff8caeff","#ffa9bdff","#ffb68cff","#ffcdcdff","#FFFFFF"],h=s[Math.floor(Math.random()*s.length)],r=this.colorPallete[this.colorPallete.length-2].rgb();this.moon=new G(this.canvas,Math.random(),i,e,t,h,r,!0)}draw(){if(this.drawSky&&(this.ctx.fillStyle=this.colorPallete[this.colorPallete.length-2].rgb(),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)),this.drawStars){for(let i of this.stars)i.draw();for(let i=a(0,5);i>0;i--){var t=new O(this.canvas,a(0,this.width),a(0,this.height/2));t.draw(!0)}}if(this.drawMoon&&this.moon.draw(),this.drawMountains)for(let i=this.numberOfMountains-1;i>=0;i--)this.mountains[i].draw();if(this.drawGround){let i=this.colorPallete[this.colorPallete.length-2],e=this.colorPallete[this.colorPallete.length-1],s=new x(i.r-100,i.g-100,i.b-100),h=new x(i.r+100,i.g+100,i.b+100);$(this.canvas,0,this.height-this.height/100*45,this.width,this.height/100*5,e,i),$(this.canvas,0,this.height-this.height/100*40,this.width,this.height/100*40,s,h)}}}let Y=window.innerWidth,V=window.innerHeight;var I=document.getElementById("landscapejs");I.width=Y;I.height=V;let Z=new j(I);Z.draw();function $(o,t,i,e,s,h,r,l){let n=o.getContext("2d"),f=n.createLinearGradient(t,i,t,i+s);console.log(h.rgba()),console.log(r.rgba()),f.addColorStop(0,h.rgba()),f.addColorStop(1,r.rgba()),n.fillStyle=f,n.fillRect(t,i,e,s)}
