(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))e(h);new MutationObserver(h=>{for(const r of h)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function i(h){const r={};return h.integrity&&(r.integrity=h.integrity),h.referrerPolicy&&(r.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?r.credentials="include":h.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(h){if(h.ep)return;h.ep=!0;const r=i(h);fetch(h.href,r)}})();class n{constructor(t,i,e,h=1){this.r=t,this.g=i,this.b=e,this.a=h}rgb(){return`rgb(${this.r}, ${this.g}, ${this.b})`}rgba(){return`rgb(${this.r}, ${this.g}, ${this.b}, ${this.a})`}}const Z=4,N=1<<Z,H=8,D=1<<H,u=4095;let K=4,J=.5;const _=s=>.5*(1-Math.cos(s*Math.PI));let c;function Q(s,t=0,i=0){if(c==null){c=new Array(u+1);for(let I=0;I<u+1;I++)c[I]=Math.random()}s<0&&(s=-s),t<0&&(t=-t),i<0&&(i=-i);let e=Math.floor(s),h=Math.floor(t),r=Math.floor(i),o=s-e,l=t-h,a=i-r,w,E,Y=0,j=.5,m,f,R;for(let I=0;I<K;I++){let g=e+(h<<Z)+(r<<H);w=_(o),E=_(l),m=c[g&u],m+=w*(c[g+1&u]-m),f=c[g+N&u],f+=w*(c[g+N+1&u]-f),m+=E*(f-m),g+=D,f=c[g&u],f+=w*(c[g+1&u]-f),R=c[g+N&u],R+=w*(c[g+N+1&u]-R),f+=E*(R-f),m+=_(a)*(f-m),Y+=m*j,j*=J,e<<=1,o*=2,h<<=1,l*=2,r<<=1,a*=2,o>=1&&(e++,o--),l>=1&&(h++,l--),a>=1&&(r++,a--)}return Y}function y(s,t){const i=Math.ceil(s),e=Math.floor(t);return Math.floor(Math.random()*(e-i)+i)}class B{constructor(t,i,e){this.canvas=t,this.x=i,this.y=e}draw(t=!1){let i=U(3),e=this.canvas.getContext("2d");e.save();let h=new n(y(200,255),y(200,255),y(200,255),Math.random());if(e.fillStyle=h.rgba(),e.beginPath(),e.ellipse(this.x,this.y,i,i,0,0,2*Math.PI),t){console.log("shooting star"),e.beginPath(),e.moveTo(this.x,this.y);let r=y(this.x-50,this.x+50),o=y(this.y-50,this.y+50);e.lineTo(r,o);let l=e.createLinearGradient(this.x,this.y,r,o);l.addColorStop(0,h.rgba()),l.addColorStop(1,`rgba(${h.r},${h.g},${h.b},0)`),e.strokeStyle=l,e.stroke()}e.fill(),e.restore()}}function U(s){return Math.floor(Math.random()*s)}function z(s,t,i,e,h,r){return(s-t)/(i-t)*(h-e)+e}let F=window.innerHeight/2,tt=window.innerWidth;class S{constructor(t,i,e,h,r,o,l,a=0){this.time=Math.random()*99,this.currentMin=i,this.currentMax=e,this.newMin=h,this.newMax=r,this.timeInterval=o,this.lengthInterval=1,this.mLength=0,this.canvas=t,this.ctx=t.getContext("2d"),this.height=t.height/2,this.width=t.width,this.color=l,this.blur=a}getVertex(){this.time+=this.timeInterval,this.mLength+=this.lengthInterval;let t=Q(this.time),i=z(t,this.currentMin,this.currentMax,this.newMin,-this.height+this.newMax);return[this.mLength+1,this.height- -i]}draw(){this.ctx.save(),this.ctx.fillStyle=this.color.rgba();let t=new Path2D;t.moveTo(0,F*2);for(let i=0;i<this.width;i++){let e=this.getVertex();t.lineTo(e[0],e[1])}t.lineTo(tt,F*2),t.closePath(),this.ctx.filter=`blur(${this.blur}px)`,this.ctx.fill(t),this.ctx.restore()}}class q{constructor(t,i=0,e=0,h=0,r=0,o="#fff",l="#000",a=!1){this.phase=i,this.lineWidth=0,this.x=e>0?e:t.width/2,this.y=h>0?h:t.height/2,this.r=r>0?r:100,this.light=o,this.dark=l,this.offset=this.lineWidth/2,this.canvas=t,this.simple=a,this.ctx=t.getContext("2d"),this.glow=this.r/2,console.log(`Moon phase: ${this.phase}`)}drawMoon(){this.ctx.translate(this.offset,this.offset),this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=this.light,this.ctx.shadowBlur=this.glow,this.ctx.shadowColor=this.light,this.ctx.fill(),this.ctx.shadowBlur=0,this.ctx.shadowColor="transparent"}drawShadow(t){console.log(`Shadow phase: ${t}`),this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,-Math.PI/2,Math.PI/2,!0),this.ctx.closePath(),this.ctx.fillStyle=this.dark,this.ctx.fill(),this.ctx.translate(this.r,this.r),this.ctx.scale(t,1),this.ctx.translate(-this.r,-this.r),this.ctx.beginPath(),this.ctx.arc(this.r,this.r,this.r,-Math.PI/2,Math.PI/2,!0),this.ctx.closePath(),this.ctx.fillStyle=t>0?this.light:this.dark,this.ctx.fill()}draw(){this.simple?this.drawSimple():this.drawComplex()}drawComplex(){this.ctx.save(),this.ctx.translate(this.x,this.y),this.phase<=.5?(this.drawMoon(),this.drawShadow(4*this.phase-1)):(this.ctx.translate(this.r+2*this.offset,this.r+2*this.offset),this.ctx.rotate(Math.PI),this.ctx.translate(-this.r,-this.r),this.drawMoon(),this.drawShadow(4*(1-this.phase)-1)),this.ctx.restore()}drawSimple(){this.ctx.save(),this.ctx.fillStyle=this.light,this.ctx.beginPath(),this.ctx.ellipse(this.x,this.y,this.r,this.r,0,0,2*Math.PI),this.phase>.8&&(this.ctx.shadowBlur=this.glow,this.ctx.shadowColor=this.light),this.ctx.fill(),this.phase<=.8&&(this.ctx.fillStyle=this.dark,this.ctx.beginPath(),this.ctx.ellipse(this.x+this.phase*this.r,this.y,this.r,this.r,0,0,2*Math.PI),this.ctx.fill()),this.ctx.restore()}}let k=3,W=12;class it{constructor(t,i=!0,e=!0,h=!0,r=!0,o=!0,l=0){this.canvas=t,this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.moon=null,this.stars=[],this.mountains=[],this.numberOfMountains=l>0?l:v(k,W),this.drawSky=i,this.drawStars=e,this.drawMoon=h,this.drawMountains=r,this.drawGround=o,this.init()}init(){this.numberOfMountains>W?this.numberOfMountains=W:this.numberOfMountains<k&&(this.numberOfMountains=k),console.log(`Number of mountains: ${this.numberOfMountains}`),this.createColorPallete(),this.drawMountains&&this.createMountains(),this.drawStars&&this.createStars(),this.drawMoon&&this.createMoon()}createColorPallete(){this.red=Math.floor(Math.random()*200),this.green=Math.floor(Math.random()*200),this.blue=Math.floor(Math.random()*220),this.lightBlue=Math.floor(this.blue/100*(Math.random()*100));let t=new n(this.red-10,this.green-10,this.blue+50,.7),i=new n(this.red+200,this.green+200,this.blue+60,0);this.colorPallete=[];for(let e=0;e<this.numberOfMountains;e++)this.colorPallete.push(new n(this.red+e*30,this.green+e*30,this.blue+e*30));this.colorPallete.push(t),this.colorPallete.push(i),console.log(this.colorPallete)}createMountains(){let t=Math.random()*.009999999999999998+.005,i=Math.random()*(this.height*.005-2.75)+2.75,e=1/this.numberOfMountains;console.log(i);for(let h=this.numberOfMountains-1;h>=0;h--)this.blur=0,h>this.numberOfMountains/2&&(this.blur=h>2?2:h),this.mountains.push(new S(this.canvas,0,i-e*(h+5),0,4,t,this.colorPallete[h],this.blur));console.log(this.mountains)}createStars(){let t=v(this.width*.1,this.width);console.log(`Number of stars: ${t}`);for(let i=0;i<t;i++)this.stars.push(new B(this.canvas,p(this.width),p(this.height)))}createMoon(){let t=v(this.height/100,this.height/10),i=v(2*t,this.width-2*t),e=parseInt(Math.random()*this.height/5+t),h="#fff",r=this.colorPallete[this.colorPallete.length-2].rgb();this.moon=new q(this.canvas,Math.random(),i,e,t,h,r,!0)}draw(){if(this.drawSky&&(this.ctx.fillStyle=this.colorPallete[this.colorPallete.length-2].rgb(),this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)),this.drawStars){for(let i of this.stars)i.draw();for(let i=y(0,5);i>0;i--){var t=new B(this.canvas,p(this.width),p(this.height/2));t.draw(!0)}}if(this.drawMoon&&this.moon.draw(),this.drawMountains)for(let i of this.mountains)i.draw();if(this.drawGround){let i=this.colorPallete[0],e=this.colorPallete[this.colorPallete.length-3],h=new n(i.r-100,i.g-100,i.b-100),r=new n(i.r+100,i.g+100,i.b+100);G(this.canvas,0,this.height-this.height/100*52,this.width,this.height/100*20,i,e),G(this.canvas,0,this.height-this.height/100*45,this.width,this.height/100*45,h,r)}}}let C=window.innerWidth,d=window.innerHeight;var T=document.getElementById("landscapejs");T.width=C;T.height=d;let et=new it(T);et.draw();var P=document.getElementById("landscape");console.log(P.width);console.log(P.height);P.width=C;P.height=d;var O=Math.random()*(.015-.005)+.005,$=Math.random()*(d*.005-2.75)+2.75,L=.35,V,X,A,M=Math.floor(Math.random()*200),x=Math.floor(Math.random()*200),b=Math.floor(Math.random()*220);ht(P);st(P);function ht(s){let t=d/100,i=d/10,e=v(t,i);V=parseInt(Math.random()*d/5+e),X=v(2*e,C-2*e),A=new n(M-10,x-10,b+50,.7);var h=s.getContext("2d");h.fillStyle=A.rgb(),h.fillRect(0,0,s.width,s.height),rt(v(100,C)),h.save(),new q(s,Math.random(),X,V,e,"#fff",A.rgb()).drawSimple(),h.restore()}function st(s){let t=s.getContext("2d");var i=new S(s,0,$,0,4,O,new n(M+50,x+50,b+50)),e=new S(s,0,$-L,0,4,O/1,new n(M+40,x+40,b+40)),h=new S(s,0,$-L*1.5,0,4,O/2,new n(M+20,x+20,b+20)),r=new S(s,0,$-L*2,0,4,O/3,new n(M,x,b)),o=new S(s,0,$-L*2.5,0,4,O/4,new n(M-20,x-20,b-20)),l=new S(s,0,$-L*3,0,4,O/8,new n(M-40,x-40,b-40));t.filter="blur(5px)",l.draw(50),t.filter="blur(3px)",o.draw(40),t.fillStyle=new n(M+20,x+20,b+20).rgba(),t.filter="blur(2px)",r.draw(20),t.filter="blur(1px)",h.draw(0),t.filter="blur(0px)",e.draw(-20),i.draw(-40),G(s,0,d-d/100*45,C,d/100*45,new n(250,0,0,1),new n(0,250,0,1))}function v(s,t){const i=Math.ceil(s),e=Math.floor(t);return Math.floor(Math.random()*(e-i)+i)}function p(s,t=0){return Math.floor(Math.random()*s-t)+Math.floor(t)}function rt(s){for(let i=0;i<s;i++){var t=new B(P,p(C),p(d));t.draw()}for(let i=y(0,5);i>0;i--){var t=new B(P,p(C),p(d/2));t.draw(!0)}}function G(s,t,i,e,h,r,o,l){let a=s.getContext("2d"),w=a.createLinearGradient(t,i,t,i+h);console.log(r.rgba()),console.log(o.rgba()),w.addColorStop(0,r.rgba()),w.addColorStop(1,o.rgba()),a.fillStyle=w,a.fillRect(t,i,e,h)}
